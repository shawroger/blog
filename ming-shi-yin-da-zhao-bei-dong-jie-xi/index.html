<!DOCTYPE html>
<html lang="en">
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
 
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
 
      <title>BLOG - 明世隐大招被动解析</title>

      <link rel="icon" sizes="any" href="/favico.ico">
      
        <link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml">
      
      
      <script src="https://cdn.bootcdn.net/ajax/libs/slideout/1.0.1/slideout.min.js"></script>
          
          <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
          <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
          <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/mathtex-script-type.min.js" integrity="sha384-zWYbd0NBwgTsgIdFKVprSfTh1mbMPe5Hz1X3yY4Sd1h/K1cQoUe36OGwAGz/PcDy" crossorigin="anonymous"></script>
              
          <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
                  <script>
                    document.addEventListener("DOMContentLoaded", function() {
                        renderMathInElement(document.body, {
                            delimiters: [
                                {left: "$$", right: "$$", display: true },
                                {left: "$", right: "$", display: false }, 
                            ]
                        });
                    });

                    window.$ZOLA_CONFIG = {
                        base: "/",
                        title: "BLOG",
                        author: "Roger",
                        navs:  ["Home","Categories","Tags","About",].map(function(e){return e.toLowerCase();}),
                    }; 
                </script>
                  
          
      

      
          <link rel="stylesheet" href="/site.css">
          
          <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
          
      

      
      
    </head>

    <body> 
        <div class="container"> 
            <div id="mobile-navbar" class="mobile-navbar">
                <div class="mobile-header-logo">
                  <a href="/" class="logo">BLOG</a>
                </div>
                <div class="mobile-navbar-icon icon-out">
                  <span></span>
                  <span></span>
                  <span></span>
                </div>
              </div>

            

            <nav id="mobile-menu" class="mobile-menu slideout-menu slideout-menu-left">
              <ul class="mobile-menu-list">
                
                    <li class="mobile-menu-item">
                        <a href="/">
                            Home
                        </a> 
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="/categories">
                            Categories
                        </a> 
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="/tags">
                            Tags
                        </a> 
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="/about">
                            About
                        </a> 
                    </li>
                
              </ul>
            </nav>

            <header id="header">
                
                <div class="logo"><a href="/">BLOG</a></div>
                <nav class="menu">
                    <ul>
                        
                            <li>
                                <a href="/">
                                    Home
                                </a>
                            </li>
                        
                            <li>
                                <a href="/categories">
                                    Categories
                                </a>
                            </li>
                        
                            <li>
                                <a href="/tags">
                                    Tags
                                </a>
                            </li>
                        
                            <li>
                                <a href="/about">
                                    About
                                </a>
                            </li>
                        
                    </ul>
                </nav>
            </header>

            <main>
                <div class="content" id="mobile-panel">
                    
                    



<article class="post article-content">
    
    <header class="post__header">
        <h1 class="post__title">
            <a href="/ming-shi-yin-da-zhao-bei-dong-jie-xi/">明世隐大招被动解析</a>
        </h1>
        <div class="post__meta">
            <span class="post__time">2019.02.12&nbsp;&nbsp; 共 710 字</span>
            
        </div>
    </header>

    <div class="post-content">
      <h1 id="fu-hao-shuo-ming">符号说明</h1>
<blockquote>
<p>本文中我们设</p>
</blockquote>
<ul>
<li>
<p>$C_0$：总血量</p>
</li>
<li>
<p>$C$：当前血量</p>
</li>
<li>
<p>$A_n$：第 n 秒时刻大招被动回复的血量</p>
</li>
<li>
<p>$S_n$：前 n 秒内由大招被动回复的血量</p>
</li>
</ul>
<span id="continue-reading"></span>
<blockquote>
<p>文章内只考虑由此技能回复的血量</p>
</blockquote>
<h1 id="shu-xue-fen-xi">数学分析</h1>
<p>由于在游戏中，时间以秒结算，是离散的，故我们以秒为单位进行分析。</p>
<p>假设在某一时刻明世隐当前血量为 $C$,此时大招被动触发，该时刻记为 $0$ 时刻，则第 $1$ 秒内，其回复的血量为：</p>
<p>$$A_1=0.05 (C_0-C)$$</p>
<p>而在第 $n$ 秒时，设其已经回复了 $S_n$ 的血量，则第 $n+1$ 秒时其会回复的血量为：</p>
<p>$$A_{n+1}=0.05(C_0-C-S_n)$$</p>
<p>再取 $A_n=0.05(C_0-C-S_n-1)$</p>
<p>作差得 $A_{n+1}=0.95A_n$</p>
<p>则 $A_n$ 服从等比数列，得到</p>
<p>$$A_n=0.95^nA_1=0.95^n*0.05(C_0-C)$$</p>
<p>代入得，</p>
<p>$S_n=(1-0.95^n)/(1-0.95)A_1=(1-0.95^n)/(1-0.95)*0.05(C_0-C)$</p>
<p>记 $C(n)$ 为 $n$ 时刻的血量，即 $C(n)=C+ S_n$</p>
<p>代入得， $C(n)=C+S_n=C+(1-0.95^n)*(C_0-C)$</p>
<h1 id="ying-yong-fen-xi">应用分析</h1>
<h2 id="you-xiao-hui-fu-xie-liang-fen-xi">有效恢复血量分析</h2>
<p>由于最小恢复量为 $1$，则有在 $A_n=0.95^n*0.05(C_0-C)\leq 1$ 时恢复达到最大，</p>
<p>即 $0.95^n(C_0-C)≤20$</p>
<p>此时其血量为：</p>
<p>$C(n)=C+S_n$</p>
<p>$=C+(1-0.95^n)(C_0-C)$</p>
<p>$=C+C_0-C-0.95^n(C_0-C)$</p>
<p>$=C_0-0.95^n(C_0-C)$</p>
<p>$\leq C_0-20$</p>
<p>也就是说，血量恢复到 $C_0-20$ 时，即比最大血量少 $20$ 时，恢复将无意义。</p>
<h2 id="hui-fu-xie-liang-shi-jian-fen-xi">恢复血量时间分析</h2>
<p>当其当前血量为 $C$ 时，设我们预期恢复到最大血量的 $k$ 倍 $(0\leq k\leq 1)$，即为 $C=k C_0$ ，该过程需要至少 $n$ 秒：</p>
<p>由于血量至少比当前要大，则 $k C_0\geq C$</p>
<p>于是 $C/C_0\leq k \leq 1$</p>
<p>解不等式 $C(n)\geq kC*C_0$</p>
<p>即 $C+(1-0.95^n)*(C_0-C) ≥kC_0$</p>
<p>得 $0.95^n\leq (1-k)*C_0/(C_0-C)$</p>
<p>解得 $n\ast In(0.95) \leq In((1-k)*C_0) / (C_0-C)$</p>
<p>而由数值 $In(0.95)~~-1/19.5$，得：</p>
<p>$$n\geq 19.5\ast In((C_0-C)/((1-k)C_0))$$</p>
<h2 id="shi-jian-fen-xi">实践分析</h2>
<p>在血量极少时，由公式 $n\geq 19.5In((C_0-C)/((1-k)C_0))$</p>
<p>在 $c\rightarrow 0$ 时，得到 $n\geq 19.5\ast In(1/(1-k))$</p>
<ul>
<li>令 $k\rightarrow 0$，即血量恢复到最大值，此时 $n-&gt;oo$</li>
</ul>
<p>即血量永远只能趋向于最大，而达不到。</p>
<ul>
<li>如果我们只需要恢复到最大血量的 $90%$，即 $k=0.9$</li>
</ul>
<p>代入得 $n≥19.5In(1/(1-0.9))=19.5In(10)\approx 44.9$</p>
<p><strong>也就是，无论开始时血量有多低，在 $45$ 秒后，血量至少达到最大血量的 $90%$</strong></p>
<h2 id="ying-yong">应用</h2>
<p><code>假设某时刻明世隐血量仅为最大血量的 20%，现在大招被动开启，问多长时间过后恢复到最大血量的一半？</code></p>
<p>解：由公式 $n≥19.5*In((C_0-C)/((1-k)C_0))$</p>
<p>代入 $C=0.2C_0$, $k=0.5$</p>
<p>解得 $n&gt;=9.16s$</p>
<p>则 $9.16$ 秒后血量恢复到最大血量的一半。</p>

    </div>

    
    

    <div class="post-footer">
        
            
                <div class="post-tags">
                    
                        <a href="&#x2F;tags&#x2F;shu-xue&#x2F;">#数学</a>
                    
                        <a href="&#x2F;tags&#x2F;you-xi&#x2F;">#游戏</a>
                    
                </div>
            
            
                <div class="post-nav">
                    
                        <a class="previous" href="&#x2F;ji-chi-shu&#x2F;">‹ 既离书</a>
                    
                    
                        <a class="next" href="&#x2F;bu-ceng-fa-sheng-de-shi&#x2F;">不曾发生的事 ›</a>
                    
                    
                    
                </div>
            

        

    </div>

    
    
</article>


                        
                <div id="footer">
                    <a href="/">Roger &copy; <span id="footer-year">2021</span></a>
                </div>
                </div>
            </main>
            
            
            
             
            
        </div>

    
    <script type="text/javascript" src="/phomina.js" ></script>
    <script type="text/javascript" src="/custom.js" ></script>
    <script type="text/javascript" src="/fslightbox.js" ></script>
    
    </body>

</html>
